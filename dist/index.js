import K,{useMemo as V,useState as H}from"react";import{useEffect as A,useState as D}from"react";import{jsx as c,jsxs as S}from"react/jsx-runtime";var N=({children:w,title:x,onClose:s,position:f="bottom-right",width:p=360,height:v=480,minWidth:y=280,minHeight:C=240,offset:R=16,zIndex:E=1e3,className:r,style:k,headerClassName:n,bodyClassName:W,closeButtonAriaLabel:F="Close",closeOnEscape:l=!0})=>{let[u,d]=D(!1);A(()=>{if(!l)return;let e=M=>{M.key==="Escape"&&s?.()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[l,s]);let b=(()=>{let e=`${R}px`;switch(f){case"top-left":return{top:e,left:e};case"top-right":return{top:e,right:e};case"bottom-left":return{bottom:e,left:e};case"bottom-right":default:return{bottom:e,right:e}}})();return S("div",{role:"dialog","aria-modal":"false",className:r,style:{position:"fixed",...b,width:p,height:v,minWidth:y,minHeight:C,zIndex:E,background:"#ffffff",border:"1px solid rgba(0,0,0,0.06)",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.15), 0 4px 12px rgba(0,0,0,0.08)",display:"flex",flexDirection:"column",overflow:"hidden",...k},children:[S("div",{className:n,style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(0,0,0,0.06)",background:"#f9fafb"},children:[c("div",{style:{fontWeight:600,color:"#111827"},children:x}),c("button",{type:"button",onClick:s,"aria-label":F,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),style:{width:28,height:28,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:8,border:"1px solid rgba(0,0,0,0.08)",background:"white",cursor:"pointer",color:u?"#ef4444":void 0,transition:"color 120ms ease"},children:S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),c("div",{className:W,style:{flex:1,overflow:"auto",background:"#ffffff"},children:w})]})};import{jsx as m,jsxs as $}from"react/jsx-runtime";var B=K.forwardRef(({children:w,onClick:x,label:s="Open chat",position:f="top-right",offset:p=8,icon:v,className:y,containerStyle:C,buttonClassName:R,buttonStyle:E,buttonSize:r=36,zIndex:k=10,disabled:n=!1,trigger:W,open:F,onOpenChange:l,renderButton:u,openWindowOnClick:d=!1,windowProps:b,windowContent:e},M)=>{let[T,g]=H(!1),[I,P]=H(!1),a=W??"hover",O=V(()=>{let t={position:"absolute"},o=`${p}px`;switch(f){case"top-left":return{...t,top:o,left:o};case"top-right":return{...t,top:o,right:o};case"bottom-left":return{...t,bottom:o,left:o};case"bottom-right":default:return{...t,bottom:o,right:o}}},[f,p]),i=a==="always"?!0:a==="manual"?!!F:T,h=t=>{l&&l(t)},j={onMouseEnter:a==="hover"?()=>{g(!0),h(!0)}:void 0,onMouseLeave:a==="hover"?()=>{g(!1),h(!1)}:void 0,onFocus:a==="focus"?()=>{g(!0),h(!0)}:void 0,onBlur:a==="focus"?()=>{g(!1),h(!1)}:void 0},L={type:"button","aria-label":s,onClick:t=>{x?.(t),!n&&d&&P(!0)},className:R,disabled:n,style:{...O,zIndex:k,width:r,height:r,borderRadius:9999,display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid rgba(0,0,0,0.08)",background:n?"#f3f4f6":"white",color:n?"#9ca3af":void 0,boxShadow:"0 2px 6px rgba(0,0,0,0.1), 0 1px 2px rgba(0,0,0,0.06)",cursor:n?"not-allowed":"pointer",transition:"opacity 120ms ease, transform 120ms ease",opacity:i?1:0,transform:i?"scale(1)":"scale(0.95)",pointerEvents:i?"auto":"none",...E},tabIndex:i?0:-1,"aria-hidden":i?void 0:!0,ref:M,visible:i};return $("div",{className:y,style:{position:"relative",display:"inline-block",...C},...j,children:[w,u?u(L):m("button",{...L,children:v??m("svg",{xmlns:"http://www.w3.org/2000/svg",width:Math.max(12,Math.floor(r*.5)),height:Math.max(12,Math.floor(r*.5)),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m("path",{d:"M21 15a4 4 0 0 1-4 4H7l-4 4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"})})}),d&&I&&m(N,{...b,onClose:()=>{b?.onClose?.(),P(!1)},children:e})]})});B.displayName="ChatEnabled";export{B as ChatEnabled,N as FloatingWindow};
//# sourceMappingURL=index.js.map